System.register(["./p-05ba43f8.system.js","./p-f2ebe6a2.system.js","./p-08914b53.system.js","./p-16d83290.system.js"],(function(t){"use strict";var i,a,e,p,s;return{setters:[function(t){i=t.r;a=t.h;e=t.H},function(){},function(t){p=t.A},function(t){s=t.t}],execute:function(){const l=":host{display:block}.applications-wrapper{display:grid;grid-template-columns:auto auto auto auto;grid-gap:20px}.applications-wrapper.full-width{grid-template-columns:auto}a{text-decoration:none;color:inherit}.page-actions{display:-ms-flexbox;display:flex}ta-icon{opacity:.5;cursor:pointer}ta-icon.selected{opacity:1}ta-icon:nth-child(2){margin-left:17px}@media (max-width: 1400px){.applications-wrapper{grid-template-columns:auto auto auto}}@media (max-width: 1140px){.applications-wrapper{grid-template-columns:auto auto}}@media (max-width: 1080px){.applications-wrapper{grid-template-columns:auto auto auto}}@media (max-width: 866px){.applications-wrapper{grid-template-columns:auto auto}}@media (max-width: 600px){.applications-wrapper{grid-template-columns:auto}}";const o="applicationViewType";const n=t("applications_view",class{constructor(t){i(this,t);this.applications=[];this.fetchingApi=false;this.applicationView=localStorage.getItem(o)||"card";this.loadApplications=()=>{this.fetchingApi=true;p().list().then(this.handleSuccess).catch(this.handleError).finally(()=>this.fetchingApi=false)};this.handleSuccess=t=>{this.applications=t.data};this.handleError=t=>{if(!t.error){s().danger("Oops! Something went wrong. Please refresh and try again");return console.log(t)}s().danger(t.error)};this.updateApplicationView=t=>{this.applicationView=t;localStorage.setItem(o,t)}}listenApplicationWasUpdated(t){this.applications=this.applications.map(i=>{if(i.id!==t.detail.id)return i;return t.detail})}listenApplicationWasDeleted(t){this.applications=this.applications.filter(i=>i.id!==t.detail)}componentWillLoad(){this.loadApplications()}render(){const t=this.history.location.pathname;return a(e,null,a("ta-app-page",null,a("ta-page-header",{pageTitle:"My Applications"},a("div",{slot:"right"},a("div",{class:"page-actions"},a("ta-icon",{onClick:()=>this.updateApplicationView("card"),class:{selected:this.applicationView==="card"},icon:"card"}),a("ta-icon",{icon:"list",onClick:()=>this.updateApplicationView("list"),class:{selected:this.applicationView==="list"}})))),this.fetchingApi?a("ta-loader",null):a("div",{class:{"applications-wrapper":true,"full-width":this.applicationView==="list"}},a("stencil-route-link",{url:`${t}#createApplication`},this.applicationView==="card"?a("ta-application-card",{create:true}):a("ta-application-list-card",{create:true})),this.applications.map(t=>this.applicationView==="card"?a("ta-application-card",{application:t}):a("ta-application-list-card",{application:t})))))}});n.style=l}}}));