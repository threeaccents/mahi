import{A as r}from"./p-961bf148.js";function e(e){r.injectProps(e,["history","location"])}const t=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g"),n=r=>r.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),a=r=>r.replace(/([=!:$/()])/g,"\\$1"),o=r=>r&&r.sensitive?"":"i",s=(r,e,t)=>{for(var a=(t=t||{}).strict,s=!1!==t.end,i=n(t.delimiter||"/"),l=t.delimiters||"./",c=[].concat(t.endsWith||[]).map(n).concat("$").join("|"),u="",f=!1,p=0;p<r.length;p++){var d=r[p];if("string"==typeof d)u+=n(d),f=p===r.length-1&&l.indexOf(d[d.length-1])>-1;else{var h=n(d.prefix||""),v=d.repeat?"(?:"+d.pattern+")(?:"+h+"(?:"+d.pattern+"))*":d.pattern;e&&e.push(d),u+=d.optional?d.partial?h+"("+v+")?":"(?:"+h+"("+v+"))?":h+"("+v+")"}}return s?(a||(u+="(?:"+i+")?"),u+="$"===c?"$":"(?="+c+")"):(a||(u+="(?:"+i+"(?="+c+"))?"),f||(u+="(?="+i+"|"+c+")")),new RegExp("^"+u,o(t))},i=(r,e,l)=>r instanceof RegExp?((r,e)=>{if(!e)return r;var t=r.source.match(/\((?!\?)/g);if(t)for(var n=0;n<t.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return r})(r,e):Array.isArray(r)?((r,e,t)=>{for(var n=[],a=0;a<r.length;a++)n.push(i(r[a],e,t).source);return new RegExp("(?:"+n.join("|")+")",o(t))})(r,e,l):((r,e,o)=>s(((r,e)=>{for(var o,s=[],i=0,l=0,c="",u=e&&e.delimiter||"/",f=e&&e.delimiters||"./",p=!1;null!==(o=t.exec(r));){var d=o[0],h=o[1],v=o.index;if(c+=r.slice(l,v),l=v+d.length,h)c+=h[1],p=!0;else{var y="",g=r[l],m=o[2],$=o[3],x=o[4],R=o[5];if(!p&&c.length){var b=c.length-1;f.indexOf(c[b])>-1&&(y=c[b],c=c.slice(0,b))}c&&(s.push(c),c="",p=!1);var E=y||u,w=$||x;s.push({name:m||i++,prefix:y,delimiter:E,optional:"?"===R||"*"===R,repeat:"+"===R||"*"===R,partial:""!==y&&void 0!==g&&g!==y,pattern:w?a(w):"[^"+n(E)+"]+?"})}}return(c||l<r.length)&&s.push(c+r.substr(l)),s})(r,o),e,o))(r,e,l),l=(r,e)=>new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(r),c=(r,e)=>l(r,e)?r.substr(e.length):r,u=r=>"/"===r.charAt(r.length-1)?r.slice(0,-1):r,f=r=>"/"===r.charAt(0)?r:"/"+r,p=r=>"/"===r.charAt(0)?r.substr(1):r,d=r=>{const{pathname:e,search:t,hash:n}=r;let a=e||"/";return t&&"?"!==t&&(a+="?"===t.charAt(0)?t:`?${t}`),n&&"#"!==n&&(a+="#"===n.charAt(0)?n:`#${n}`),a},h=r=>"/"===r.charAt(0),v=r=>Math.random().toString(36).substr(2,r),y=(r,e)=>{for(let t=e,n=t+1,a=r.length;n<a;t+=1,n+=1)r[t]=r[n];r.pop()},g=(r,e)=>{if(r===e)return!0;if(null==r||null==e)return!1;if(Array.isArray(r))return Array.isArray(e)&&r.length===e.length&&r.every((r,t)=>g(r,e[t]));const t=typeof r;if(t!==typeof e)return!1;if("object"===t){const t=r.valueOf(),n=e.valueOf();if(t!==r||n!==e)return g(t,n);const a=Object.keys(r),o=Object.keys(e);return a.length===o.length&&a.every(t=>g(r[t],e[t]))}return!1},m=(r,e)=>r.pathname===e.pathname&&r.search===e.search&&r.hash===e.hash&&r.key===e.key&&g(r.state,e.state),$=(r,e,t,n)=>{let a;"string"==typeof r?(a=(r=>{let e=r||"/",t="",n="";const a=e.indexOf("#");-1!==a&&(n=e.substr(a),e=e.substr(0,a));const o=e.indexOf("?");return-1!==o&&(t=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===t?"":t,hash:"#"===n?"":n,query:{},key:""}})(r),void 0!==e&&(a.state=e)):(a=Object.assign({pathname:""},r),a.search&&"?"!==a.search.charAt(0)&&(a.search="?"+a.search),a.hash&&"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash),void 0!==e&&void 0===a.state&&(a.state=e));try{a.pathname=decodeURI(a.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}var o;return a.key=t,n?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=((r,e="")=>{let t,n=e&&e.split("/")||[],a=0;const o=r&&r.split("/")||[],s=r&&h(r),i=e&&h(e),l=s||i;if(r&&h(r)?n=o:o.length&&(n.pop(),n=n.concat(o)),!n.length)return"/";if(n.length){const r=n[n.length-1];t="."===r||".."===r||""===r}else t=!1;for(let u=n.length;u>=0;u--){const r=n[u];"."===r?y(n,u):".."===r?(y(n,u),a++):a&&(y(n,u),a--)}if(!l)for(;a--;a)n.unshift("..");!l||""===n[0]||n[0]&&h(n[0])||n.unshift("");let c=n.join("/");return t&&"/"!==c.substr(-1)&&(c+="/"),c})(a.pathname,n.pathname)):a.pathname=n.pathname:a.pathname||(a.pathname="/"),a.query=(o=a.search||"")?(/^[?#]/.test(o)?o.slice(1):o).split("&").reduce((r,e)=>{let[t,n]=e.split("=");return r[t]=n?decodeURIComponent(n.replace(/\+/g," ")):"",r},{}):{},a};let x=0;const R={},b=(r,e={})=>{"string"==typeof e&&(e={path:e});const{path:t="/",exact:n=!1,strict:a=!1}=e,{re:o,keys:s}=((r,e)=>{const t=`${e.end}${e.strict}`,n=R[t]||(R[t]={}),a=JSON.stringify(r);if(n[a])return n[a];const o=[],s={re:i(r,o,e),keys:o};return x<1e4&&(n[a]=s,x+=1),s})(t,{end:n,strict:a}),l=o.exec(r);if(!l)return null;const[c,...u]=l,f=r===c;return n&&!f?null:{path:t,url:"/"===t&&""===c?"/":c,isExact:f,params:s.reduce((r,e,t)=>(r[e.name]=u[t],r),{})}},E=(r,e)=>null==r&&null==e||null!=e&&r&&e&&r.path===e.path&&r.url===e.url&&g(r.params,e.params);export{E as a,f as b,$ as c,v as d,c as e,d as f,p as g,l as h,e as i,m as l,b as m,u as s}