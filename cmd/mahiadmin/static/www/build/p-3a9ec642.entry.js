import{r as i,h as t,d as o,H as s}from"./p-cd2828d1.js";const e=class{constructor(s){i(this,s),this.isFocused=!1,this.searchQuery="",this.showDropdown=!1,this.label="",this.value=[],this.options=[],this.loading=!1,this.handleOnInput=i=>{this.searchQuery=i.detail,this.filterOptions(i.detail)},this.filterOptions=i=>{this.filteredOptions=i?this.options.filter(t=>t.text.toLowerCase().includes(i.toLowerCase())):this.options},this.handleOnFocus=()=>{this.isFocused=!0,this.showDropdown=!0},this.handleSelectOption=i=>{this.showDropdown=!1,this.taSelect.emit([...this.value,i])},this.getDropdownOptions=()=>0===this.availableDropdownOptions.length?t("span",{class:"dropdown-item disabled"},"No options available"):this.availableDropdownOptions.map(i=>t("span",{class:"dropdown-item",onClick:()=>this.handleSelectOption(i.value)},i.text)),this.isActive=()=>!!this.searchQuery||this.isFocused,this.handleOnBlur=i=>{i.preventDefault(),this.isFocused=!1,this.showDropdown=!1},this.getValueText=i=>this.options.find(t=>t.value===i).text,this.handleRemoveSelectedItem=i=>{this.taSelect.emit(this.value.filter(t=>t!==i))},this.taSelect=o(this,"taSelect",7)}watchOptionsHandler(i,t){t!==i&&(this.filteredOptions=this.options)}componentWillLoad(){this.filteredOptions=this.options}get availableDropdownOptions(){return this.filteredOptions.filter(i=>!this.value.includes(i.value))}render(){return this.loading?t(s,null,t("div",{class:{"ta-multi-select":!0,"is-active":this.isActive()}},t("ta-input",{disabled:!0,loading:this.loading,label:this.label,value:this.searchQuery}),t("div",{class:{"expand-arrow-icon":!0,expanded:this.showDropdown}},t("ta-icon",{icon:"expand-arrow"})))):t(s,null,t("div",{class:{"ta-multi-select":!0,"is-active":this.isActive()}},t("ta-input",{loading:this.loading,label:this.label,value:this.searchQuery,onTaInput:this.handleOnInput,onFocus:this.handleOnFocus,onBlur:this.handleOnBlur}),t("div",{class:{"expand-arrow-icon":!0,expanded:this.showDropdown}},t("ta-icon",{icon:"expand-arrow"})),t("div",{class:{"dropdown-menu-wrapper":!0,open:this.showDropdown}},t("div",{class:"dropdown-menu"},this.getDropdownOptions()))),t("div",{class:"selected-items"},this.value.map(i=>t("div",{class:"selected-item"},t("span",null,this.getValueText(i)),t("ta-icon",{onClick:()=>this.handleRemoveSelectedItem(i),icon:"cancel"})))))}static get watchers(){return{options:["watchOptionsHandler"]}}};e.style=":host{display:block;margin-bottom:var(--ta-multi-select-margin-bottom, 16px)}ta-input{margin-bottom:12px}.ta-multi-select{position:relative}.dropdown-menu-wrapper{z-index:99;position:absolute;top:36.5px;width:calc(100% - 4px);-webkit-transition:all 0.2s ease-in-out 0s;transition:all 0.2s ease-in-out 0s;opacity:0;visibility:hidden;border-radius:0 0 var(--border-radius) var(--border-radius);border:solid 2px var(--light-border-color);border-top:none;background-color:var(--primary-input-bg-color)}.dropdown-menu-wrapper.open{opacity:1;visibility:visible}.dropdown-menu{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow-y:auto;padding:20px 0;max-height:256px;background-color:var(--primary-input-bg-color);margin:1px}.dropdown-item{height:16px;font-size:14px;color:var(--dark-text-color);padding:6px 8px;margin:0 15px;cursor:pointer;background-color:var(--primary-input-bg-color)}.dropdown-item.disabled{cursor:auto}.dropdown-item.disabled:hover{background-color:inherit}.dropdown-item:hover{font-weight:500;border-radius:6px;background-color:var(--highlight-text-color)}.expand-arrow-icon{position:absolute;width:40px;height:26px;right:1px;top:4px;padding:4px 8px;text-align:center;-webkit-transition:-webkit-transform 0.2s ease;transition:-webkit-transform 0.2s ease;transition:transform 0.2s ease;transition:transform 0.2s ease, -webkit-transform 0.2s ease;cursor:pointer}.expand-arrow-icon ta-icon{fill:var(--primary-text-color)}.expand-arrow-icon.expanded{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.selected-items{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.selected-item{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:row;flex-direction:row;margin-bottom:4px;margin-right:4px;padding:5px 12px;border-radius:var(--border-radius);background-color:var(--multiselect-selected-option-bg-color)}.selected-item span{height:16px;margin-right:10px;font-size:14px;color:white;font-weight:normal}.selected-item ta-icon{cursor:pointer;height:14px;opacity:0.65;color:#ffffff}";export{e as ta_multi_select}